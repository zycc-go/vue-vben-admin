import{a1 as _,k as f,aO as a,_ as C}from"./index.js";import{P as A}from"./index-2838de3a.js";import S from"./CurrentPermissionMode-8e489d93.js";import{d as B,e as l,a8 as o,_ as D,a9 as R,aa as n,f as t,a0 as r,E as s,a1 as p}from"./vue-05cc5022.js";import{ae as g,ah as y}from"./antd-5cc557c7.js";import"./useContentViewHeight-8fd03a41.js";import"./useWindowSizeFn-b3f3cabb.js";import"./onMountedOrActivated-7a6feff1.js";const P=B({components:{Space:g,Alert:y,CurrentPermissionMode:S,PageWrapper:A},setup(){const{changeRole:u}=_(),e=f();return{userStore:e,RoleEnum:a,isSuper:l(()=>e.getRoleList.includes(a.SUPER)),isTest:l(()=>e.getRoleList.includes(a.TEST)),changeRole:u}}});const T={class:"mt-4"};function v(u,e,k,$,h,U){const c=o("CurrentPermissionMode"),m=o("Alert"),i=o("a-button"),E=o("Space"),d=o("PageWrapper");return D(),R(d,{title:"前端权限示例",contentBackground:"",contentClass:"p-4",content:"由于刷新的时候会请求用户信息接口，会根据接口重置角色信息，所以刷新后界面会恢复原样，如果不需要，可以注释 src/layout/default/index内的获取用户信息接口"},{default:n(()=>[t(c),r("p",null,[s(" 当前角色: "),r("a",null,p(u.userStore.getRoleList),1)]),t(m,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),r("div",T,[s(" 权限切换(请先切换权限模式为前端角色权限模式): "),t(E,null,{default:n(()=>[t(i,{onClick:e[0]||(e[0]=F=>u.changeRole(u.RoleEnum.SUPER)),type:u.isSuper?"primary":"default"},{default:n(()=>[s(p(u.RoleEnum.SUPER),1)]),_:1},8,["type"]),t(i,{onClick:e[1]||(e[1]=F=>u.changeRole(u.RoleEnum.TEST)),type:u.isTest?"primary":"default"},{default:n(()=>[s(p(u.RoleEnum.TEST),1)]),_:1},8,["type"])]),_:1})])]),_:1})}const O=C(P,[["render",v],["__scopeId","data-v-cda7941c"]]);export{O as default};
